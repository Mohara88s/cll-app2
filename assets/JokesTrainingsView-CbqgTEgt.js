import{u as A,a as h,j as a,B as d,e as V,f as D,g as W,r as i}from"./index-ezMdIMIh.js";import{j,C as $}from"./ChooseLanguages-Dk5AoExg.js";import{f as q,J as G}from"./sentences-tasks-operations-Bgu1WAq1.js";import{T as K}from"./TaskCongratulation-DaMh55t9.js";import"./ErrorMessage-Dp7eYJQA.js";import"./Table-DdcWKeB4.js";const Q="_originalLanguageJoke_18kga_1",X="_jokeFealdsList_18kga_7",Y="_jokeFealdsList__item_18kga_10",Z="_jokeFealdHeader_18kga_28",aa="_listTags_18kga_33",sa="_listTags__item_18kga_40",ea="_listTags__button_18kga_44",na="_congratulations_18kga_48",ta="_statistics_18kga_52",ia="_CongratulationBox_18kga_58",ga="_skipButton_18kga_62",la="_warning_18kga_65",n={originalLanguageJoke:Q,jokeFealdsList:X,jokeFealdsList__item:Y,jokeFealdHeader:Z,listTags:aa,listTags__item:sa,listTags__button:ea,congratulations:na,statistics:ta,CongratulationBox:ia,skipButton:ga,warning:la},oa="_languagesList_1wtgf_1",ra="_languagesList__item_1wtgf_8",ca="_languagesList__ActiveButton_1wtgf_14",ua="_ChooseTaskLanguagesList_1wtgf_21",l={languagesList:oa,languagesList__item:ra,languagesList__ActiveButton:ca,ChooseTaskLanguagesList:ua};function _a({languages:t}){const c=A(),u=h(j.getOriginalLanguage),o=h(j.getTranslationLanguage),_=e=>{const{value:k}=e.currentTarget,r=t.find(L=>L.language_name===k);c(V(r))},m=e=>{const{value:k}=e.currentTarget,r=t.find(L=>L.language_name===k);c(D(r))};return a.jsx("div",{className:l.ChooseTaskLanguages,children:a.jsxs("ul",{className:l.ChooseTaskLanguagesList,children:[a.jsxs("li",{children:[a.jsx("h3",{children:"Choose original language:"}),u&&a.jsx("ul",{className:l.languagesList,children:t.map(e=>a.jsx("li",{className:l.languagesList__item,children:a.jsx(d,{variant:e.language_name===u.language_name?"primary":"secondary",size:e.language_name===u.language_name?"lg":"",onClick:_,value:e.language_name,className:e.language_name===u.language_name?l.languagesList__ActiveButton:l.languagesList__Button,children:e.language_name})},e._id+1))})]}),a.jsxs("li",{children:[a.jsx("h3",{children:"Choose translation language:"}),o&&a.jsx("ul",{className:l.languagesList,children:t.map(e=>a.jsx("li",{className:l.languagesList__item,children:a.jsx(d,{variant:e.language_name===o.language_name?"primary":"secondary",size:e.language_name===o.language_name?"lg":"",onClick:m,value:e.language_name,className:e.language_name===o.language_name?l.languagesList__ActiveButton:l.languagesList__Button,children:e.language_name})},e._id+2))})]})]})})}function da({jokeTask:t,onResolvedTraining:c}){let u=W();const o=A(),[_,m]=i.useState([]),[e,k]=i.useState(""),[r,L]=i.useState([]),[C,x]=i.useState([]),[N,F]=i.useState([]),[B,y]=i.useState(0),[b,J]=i.useState(0),[w,S]=i.useState(0),[O,I]=i.useState(!1),T=h(j.getOriginalLanguage),p=h(j.getTranslationLanguage);i.useEffect(()=>{m(t.languages)},[t]),i.useEffect(()=>{k(t.translations.find(s=>s.language.language_name===T.language_name).text),x([]),F([]),y(0),J(0),S(0),L([...t.translations.find(s=>s.language.language_name===p.language_name).text.match(/[^.?!]+[.!?]+[\])'"`’”]*|.+/g).map(s=>s[0]===" "?s.slice(1):s)])},[t,T,p]),i.useEffect(()=>{x([...[...r].sort(()=>.5-Math.random())])},[r]);const E=s=>{const g=s.currentTarget.getAttribute("value"),v=Number.parseInt(s.currentTarget.getAttribute("data-id"));g===r[B]?H(s.currentTarget,v,g):R(s.currentTarget),S(f=>f+1),B>=r.length-1&&P()},R=s=>{J(g=>g+1),s.classList.remove("btn-primary"),s.classList.add("btn-danger"),setTimeout(()=>{s.classList.remove("btn-danger"),s.classList.add("btn-primary")},300)},H=(s,g,v)=>{s.classList.remove("btn-primary"),s.classList.add("btn-success"),setTimeout(()=>{N.push(v),s.classList.remove("btn-success"),s.classList.add("btn-primary"),s.disabled=!0,s.style.color="transparent",s.style.background="transparent",s.style.borderColor="transparent",y(f=>f+1)},300)},P=()=>{setTimeout(()=>{x([]),I(!0)},300)},z=()=>{c()},M=()=>{c()},U=s=>{const g=s.currentTarget.getAttribute("value");o(q(g,T.language_name,p.language_name)),u.push("/sentences-trainings")};return a.jsxs("div",{className:n.JokesTrainings,children:[_&&a.jsx(_a,{languages:_}),a.jsx("h3",{children:"Joke in original language"}),!e&&a.jsx("h3",{className:n.warning,children:"no original available"}),a.jsx("p",{className:n.originalLanguageJoke,children:e}),a.jsx("h3",{children:"Joke in translation language"}),a.jsxs("ul",{className:n.jokeFealdsList,children:[a.jsxs("li",{className:n.jokeFealdsList__item,children:[a.jsx("h4",{className:n.jokeFealdHeader,children:"Unresolved joke"}),!r&&!C&&a.jsx("h3",{className:n.warning,children:"no translation available"}),a.jsx("ul",{className:n.listTags,children:C.map((s,g)=>a.jsx("li",{className:n.listTags__item,children:a.jsx(d,{variant:"primary","data-id":g,onClick:E,value:s,className:n.listTags__button,children:s})},g))}),O&&a.jsxs("div",{className:n.CongratulationBox,children:[a.jsx(K,{attempts:w,losts:b,onClickButtonNext:z}),a.jsx(d,{variant:"warning",onClick:U,value:t._id,children:"Practice joke sentences in sentences trainings"})]})]}),a.jsxs("li",{className:n.jokeFealdsList__item,children:[a.jsx("h4",{className:n.jokeFealdHeader,children:"Resolved joke"}),a.jsx("ul",{className:n.listTags,children:N.map((s,g)=>a.jsx("li",{className:n.listTags__item,children:a.jsx(d,{variant:"primary",className:n.listTags__button,children:s})},g))})]})]}),a.jsx(d,{variant:"primary",onClick:M,className:n.skipButton,children:"Skip task"})]})}function ma(){i.useEffect(()=>{window.scrollBy(0,-1e3)},[]);const[t,c]=i.useState(!0),[u,o]=i.useState([]),_=e=>{o(e),c(!1)},m=()=>{c(!0),o([])};return a.jsxs("div",{children:[a.jsx("h2",{children:"Jokes trainings"}),t&&a.jsx($,{}),t&&a.jsx(G,{passUpTask:_}),!t&&a.jsx(da,{jokeTask:u,onResolvedTraining:m})]})}function pa(){return a.jsx(a.Fragment,{children:a.jsx(ma,{})})}export{pa as default};
//# sourceMappingURL=JokesTrainingsView-CbqgTEgt.js.map
