{"version":3,"file":"LoginView-cOSdzUfp.js","sources":["../../src/components/LoginForm/LoginForm.jsx","../../src/views/LoginView/LoginView.jsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { NavLink } from 'react-router-dom';\nimport authSelectors from '../../redux/auth/auth-selectors';\nimport { signin } from '../../redux/auth/auth-operations';\nimport { Button, Form, Spinner } from 'react-bootstrap';\nimport ErrorMessage from '../ErrorMessage/ErrorMessage';\nimport styles from './LoginForm.module.css';\n\nexport default function LoginForm() {\n  useEffect(() => {\n    window.scrollBy(0, -1000);\n  }, []);\n\n  const dispatch = useDispatch();\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const authError = useSelector(authSelectors.getAuthError);\n  const loading = useSelector(authSelectors.getLoading);\n\n  const handleChange = ({ target: { name, value } }) => {\n    switch (name) {\n      case 'email':\n        return setEmail(value);\n      case 'password':\n        return setPassword(value);\n      default:\n        return;\n    }\n  };\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    await dispatch(signin({ email, password }));\n    // window.location.reload();\n  };\n\n  return (\n    <div>\n      <h2>Login page</h2>\n\n      <Form onSubmit={handleSubmit} className={styles.form} autoComplete=\"off\">\n        <Form.Group className=\"mb-3\" controlId=\"email\">\n          <Form.Label>Email</Form.Label>\n          <Form.Control\n            type=\"email\"\n            name=\"email\"\n            placeholder=\"Enter email\"\n            value={email}\n            onChange={handleChange}\n          />\n        </Form.Group>\n\n        <Form.Group className=\"mb-3\" controlId=\"password\">\n          <Form.Label>Password</Form.Label>\n          <Form.Control\n            type=\"password\"\n            name=\"password\"\n            placeholder=\"Enter password\"\n            value={password}\n            onChange={handleChange}\n          />\n        </Form.Group>\n        <Button className={styles.button} type=\"submit\">\n          {!loading && <span>Login</span>}\n          {loading && <Spinner animation=\"border\" as=\"span\" size=\"sm\" />}\n        </Button>\n        <NavLink to=\"/password-reset\" className={styles.form__link}>\n          I have forgotten the password\n        </NavLink>\n      </Form>\n      {authError && <ErrorMessage message={authError} />}\n    </div>\n  );\n}\n","import LoginForm from '../../components/LoginForm/LoginForm';\n\nexport default function LoginView() {\n  return (\n    <>\n      <LoginForm />\n    </>\n  );\n}\n"],"names":["LoginForm","useEffect","dispatch","useDispatch","email","setEmail","useState","password","setPassword","authError","useSelector","authSelectors","loading","handleChange","name","value","handleSubmit","e","signin","jsx","jsxs","Form","styles","Button","Spinner","NavLink","ErrorMessage","LoginView","Fragment"],"mappings":"mRASA,SAAwBA,GAAY,CAClCC,EAAAA,UAAU,IAAM,CACP,OAAA,SAAS,EAAG,IAAK,CAC1B,EAAG,EAAE,EAEL,MAAMC,EAAWC,EAAY,EACvB,CAACC,EAAOC,CAAQ,EAAIC,EAAAA,SAAS,EAAE,EAC/B,CAACC,EAAUC,CAAW,EAAIF,EAAAA,SAAS,EAAE,EACrCG,EAAYC,EAAYC,EAAc,YAAY,EAClDC,EAAUF,EAAYC,EAAc,UAAU,EAE9CE,EAAe,CAAC,CAAE,OAAQ,CAAE,KAAAC,EAAM,MAAAC,CAAA,KAAc,CACpD,OAAQD,EAAM,CACZ,IAAK,QACH,OAAOT,EAASU,CAAK,EACvB,IAAK,WACH,OAAOP,EAAYO,CAAK,EAC1B,QACE,MAAA,CAEN,EAEMC,EAAe,MAAMC,GAAK,CAC9BA,EAAE,eAAe,EACjB,MAAMf,EAASgB,EAAO,CAAE,MAAAd,EAAO,SAAAG,CAAU,CAAA,CAAC,CAE5C,EAEA,cACG,MACC,CAAA,SAAA,CAAAY,EAAAA,IAAC,MAAG,SAAU,YAAA,CAAA,EAEdC,EAAAA,KAACC,GAAK,SAAUL,EAAc,UAAWM,EAAO,KAAM,aAAa,MACjE,SAAA,CAAAF,OAACC,EAAK,MAAL,CAAW,UAAU,OAAO,UAAU,QACrC,SAAA,CAACF,EAAAA,IAAAE,EAAK,MAAL,CAAW,SAAK,OAAA,CAAA,EACjBF,EAAA,IAACE,EAAK,QAAL,CACC,KAAK,QACL,KAAK,QACL,YAAY,cACZ,MAAOjB,EACP,SAAUS,CAAA,CAAA,CACZ,EACF,SAECQ,EAAK,MAAL,CAAW,UAAU,OAAO,UAAU,WACrC,SAAA,CAACF,EAAAA,IAAAE,EAAK,MAAL,CAAW,SAAQ,UAAA,CAAA,EACpBF,EAAA,IAACE,EAAK,QAAL,CACC,KAAK,WACL,KAAK,WACL,YAAY,iBACZ,MAAOd,EACP,SAAUM,CAAA,CAAA,CACZ,EACF,SACCU,EAAO,CAAA,UAAWD,EAAO,OAAQ,KAAK,SACpC,SAAA,CAAC,CAAAV,GAAYO,EAAAA,IAAA,OAAA,CAAK,SAAK,OAAA,CAAA,EACvBP,SAAYY,EAAQ,CAAA,UAAU,SAAS,GAAG,OAAO,KAAK,IAAK,CAAA,CAAA,EAC9D,QACCC,EAAQ,CAAA,GAAG,kBAAkB,UAAWH,EAAO,WAAY,SAE5D,+BAAA,CAAA,CAAA,EACF,EACCb,GAAaU,EAAAA,IAACO,EAAa,CAAA,QAASjB,CAAW,CAAA,CAAA,EAClD,CAEJ,CCxEA,SAAwBkB,GAAY,CAEhC,OAAAR,EAAAA,IAAAS,EAAAA,SAAA,CACE,SAACT,EAAAA,IAAAnB,EAAA,CAAU,CAAA,EACb,CAEJ"}