import{r as c,u as C,a as t,b as o,j as s,B as E,S,p as y,d as P}from"./index-ezMdIMIh.js";import{F as e,E as N}from"./ErrorMessage-Dp7eYJQA.js";const _="_passwordReset_1954q_1",L="_button_1954q_10",i={passwordReset:_,button:L};function v(){c.useEffect(()=>{window.scrollBy(0,-1e3)},[]);const d=C(),x=window.location.href,a=window.location.search,j=window.location.search.split("&")[1],[r,f]=c.useState(""),[n,b]=c.useState(""),p=t(o.getPasswordResetApplication),h=t(o.getPasswordChange),w=t(o.getPasswordChangeError),u=t(o.getLoading),m=({target:{name:l,value:g}})=>{switch(l){case"email":return f(g);case"password":return b(g);default:return}},R=async l=>{l.preventDefault(),!a&&r.length&&await d(y({email:r,url:x})),a&&n.length&&await d(P(j,{password:n}))};return s.jsxs("div",{className:i.passwordReset,children:[s.jsx("h2",{children:"Password reset"}),s.jsxs(e,{onSubmit:R,className:i.form,autoComplete:"off",children:[!a&&s.jsxs(e.Group,{className:"mb-3",controlId:"email",children:[s.jsx(e.Label,{children:"Email"}),s.jsx(e.Control,{type:"email",name:"email",placeholder:"Enter email",value:r,onChange:m})]}),a&&s.jsxs(e.Group,{className:"mb-3",controlId:"password",children:[s.jsx(e.Label,{children:"New password"}),s.jsx(e.Control,{type:"password",name:"password",placeholder:"Enter password",value:n,onChange:m})]}),s.jsxs(E,{className:i.button,type:"submit",children:[!u&&s.jsx("span",{children:a?"Change the password":"Apply for the password change"}),u&&s.jsx(S,{animation:"border",as:"span",size:"sm"})]})]}),p&&s.jsx("p",{children:p}),h&&s.jsx("p",{children:h}),w&&s.jsx(N,{message:w})]})}function F(){return s.jsx(s.Fragment,{children:s.jsx(v,{})})}export{F as default};
//# sourceMappingURL=PasswordResetView-enzTqHTv.js.map
