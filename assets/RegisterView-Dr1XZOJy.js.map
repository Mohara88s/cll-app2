{"version":3,"file":"RegisterView-Dr1XZOJy.js","sources":["../../src/components/RegistrationForm/RegistrationForm.jsx","../../src/views/RegisterView/RegisterView.jsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport authSelectors from '../../redux/auth/auth-selectors';\nimport { signup } from '../../redux/auth/auth-operations';\nimport { Button, Form, Spinner } from 'react-bootstrap';\nimport styles from './RegistrationForm.module.css';\nimport ErrorMessage from '../ErrorMessage/ErrorMessage';\n\nexport default function RegistrationForm() {\n  useEffect(() => {\n    window.scrollBy(0, -1000);\n  }, []);\n\n  const dispatch = useDispatch();\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const regError = useSelector(authSelectors.getRegError);\n  const loading = useSelector(authSelectors.getLoading);\n\n  const handleChange = ({ target: { name, value } }) => {\n    switch (name) {\n      case 'name':\n        return setName(value);\n      case 'email':\n        return setEmail(value);\n      case 'password':\n        return setPassword(value);\n      default:\n        return;\n    }\n  };\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    await dispatch(signup({ name, email, password }));\n    // window.location.reload();\n  };\n\n  return (\n    <div>\n      <h2>Registration page</h2>\n\n      <Form onSubmit={handleSubmit} className={styles.form} autoComplete=\"off\">\n        <Form.Group className=\"mb-3\" controlId=\"name\">\n          <Form.Label>Name</Form.Label>\n          <Form.Control\n            type=\"text\"\n            name=\"name\"\n            placeholder=\"Enter name\"\n            value={name}\n            onChange={handleChange}\n          />\n        </Form.Group>\n\n        <Form.Group className=\"mb-3\" controlId=\"email\">\n          <Form.Label>Email</Form.Label>\n          <Form.Control\n            type=\"email\"\n            name=\"email\"\n            placeholder=\"Enter email\"\n            value={email}\n            onChange={handleChange}\n          />\n          <Form.Text className=\"text-muted\">\n            We'll never share your email and password with anyone else.\n          </Form.Text>\n        </Form.Group>\n\n        <Form.Group className=\"mb-3\" controlId=\"password\">\n          <Form.Label>Password</Form.Label>\n          <Form.Control\n            type=\"password\"\n            name=\"password\"\n            placeholder=\"Enter password\"\n            value={password}\n            onChange={handleChange}\n          />\n        </Form.Group>\n\n        <Button className={styles.button} type=\"submit\">\n          {!loading && <span>Registration</span>}\n          {loading && <Spinner animation=\"border\" as=\"span\" size=\"sm\" />}\n        </Button>\n      </Form>\n\n      {regError && <ErrorMessage message={regError} />}\n    </div>\n  );\n}\n","import RegistrationForm from '../../components/RegistrationForm/RegistrationForm';\nexport default function RegisterView() {\n  return (\n    <>\n      <RegistrationForm />\n    </>\n  );\n}\n"],"names":["RegistrationForm","useEffect","dispatch","useDispatch","name","setName","useState","email","setEmail","password","setPassword","regError","useSelector","authSelectors","loading","handleChange","value","handleSubmit","e","signup","jsx","jsxs","Form","styles","Button","Spinner","ErrorMessage","RegisterView","Fragment"],"mappings":"2OAQA,SAAwBA,GAAmB,CACzCC,EAAAA,UAAU,IAAM,CACP,OAAA,SAAS,EAAG,IAAK,CAC1B,EAAG,EAAE,EAEL,MAAMC,EAAWC,EAAY,EACvB,CAACC,EAAMC,CAAO,EAAIC,EAAAA,SAAS,EAAE,EAC7B,CAACC,EAAOC,CAAQ,EAAIF,EAAAA,SAAS,EAAE,EAC/B,CAACG,EAAUC,CAAW,EAAIJ,EAAAA,SAAS,EAAE,EACrCK,EAAWC,EAAYC,EAAc,WAAW,EAChDC,EAAUF,EAAYC,EAAc,UAAU,EAE9CE,EAAe,CAAC,CAAE,OAAQ,CAAE,KAAAX,EAAM,MAAAY,CAAM,KAAQ,CACpD,OAAQZ,EAAM,CACZ,IAAK,OACH,OAAOC,EAAQW,CAAK,EACtB,IAAK,QACH,OAAOR,EAASQ,CAAK,EACvB,IAAK,WACH,OAAON,EAAYM,CAAK,EAC1B,QACE,MAAA,CAEN,EAEMC,EAAe,MAAMC,GAAK,CAC9BA,EAAE,eAAe,EACjB,MAAMhB,EAASiB,EAAO,CAAE,KAAAf,EAAM,MAAAG,EAAO,SAAAE,CAAA,CAAU,CAAC,CAElD,EAEA,cACG,MACC,CAAA,SAAA,CAAAW,EAAAA,IAAC,MAAG,SAAiB,mBAAA,CAAA,EAErBC,EAAAA,KAACC,GAAK,SAAUL,EAAc,UAAWM,EAAO,KAAM,aAAa,MACjE,SAAA,CAAAF,OAACC,EAAK,MAAL,CAAW,UAAU,OAAO,UAAU,OACrC,SAAA,CAACF,EAAAA,IAAAE,EAAK,MAAL,CAAW,SAAI,MAAA,CAAA,EAChBF,EAAA,IAACE,EAAK,QAAL,CACC,KAAK,OACL,KAAK,OACL,YAAY,aACZ,MAAOlB,EACP,SAAUW,CAAA,CAAA,CACZ,EACF,SAECO,EAAK,MAAL,CAAW,UAAU,OAAO,UAAU,QACrC,SAAA,CAACF,EAAAA,IAAAE,EAAK,MAAL,CAAW,SAAK,OAAA,CAAA,EACjBF,EAAA,IAACE,EAAK,QAAL,CACC,KAAK,QACL,KAAK,QACL,YAAY,cACZ,MAAOf,EACP,SAAUQ,CAAA,CACZ,QACCO,EAAK,KAAL,CAAU,UAAU,aAAa,SAElC,6DAAA,CAAA,CAAA,EACF,SAECA,EAAK,MAAL,CAAW,UAAU,OAAO,UAAU,WACrC,SAAA,CAACF,EAAAA,IAAAE,EAAK,MAAL,CAAW,SAAQ,UAAA,CAAA,EACpBF,EAAA,IAACE,EAAK,QAAL,CACC,KAAK,WACL,KAAK,WACL,YAAY,iBACZ,MAAOb,EACP,SAAUM,CAAA,CAAA,CACZ,EACF,SAECS,EAAO,CAAA,UAAWD,EAAO,OAAQ,KAAK,SACpC,SAAA,CAAC,CAAAT,GAAYM,EAAAA,IAAA,OAAA,CAAK,SAAY,cAAA,CAAA,EAC9BN,SAAYW,EAAQ,CAAA,UAAU,SAAS,GAAG,OAAO,KAAK,IAAK,CAAA,CAAA,CAC9D,CAAA,CAAA,EACF,EAECd,GAAYS,EAAAA,IAACM,EAAa,CAAA,QAASf,CAAU,CAAA,CAAA,EAChD,CAEJ,CCxFA,SAAwBgB,GAAe,CAEnC,OAAAP,EAAAA,IAAAQ,EAAAA,SAAA,CACE,SAACR,EAAAA,IAAApB,EAAA,CAAiB,CAAA,EACpB,CAEJ"}