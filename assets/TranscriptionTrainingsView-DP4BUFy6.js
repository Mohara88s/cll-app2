import{r as e,j as s,B as g,a as U}from"./index-lRq4B2S0.js";import{o as F,O as P}from"./OwnDictionaries-DsSCpdMn.js";import{T as A}from"./TaskCongratulation-CMaEvp05.js";import{T as W}from"./TrainingCongratulation-CgBPNEba.js";import{P as l}from"./ErrorMessage-Bl72mUpP.js";import"./AlertComponent-CJx4nPVS.js";import"./Table-i0ZAr2nr.js";import"./Dropdown-CqvND0UQ.js";import"./useWindow-CFgY2ZsE.js";import"./InputGroupContext-BdiVvw1G.js";import"./Confirmation-BM5hsDGA.js";import"./Modal-Dqvi3MK3.js";const V="_trainingWord_47tox_1",z="_trainslation_47tox_7",G="_transcriptionChekboxBox_47tox_13",J="_fealdsList_47tox_18",K="_fealdsList__item_47tox_21",Q="_fealdHeader_47tox_30",X="_listTags_47tox_35",Y="_listTags__item_47tox_40",Z="_listTags__button_47tox_45",ss="_skipButton_47tox_50",r={trainingWord:V,trainslation:z,transcriptionChekboxBox:G,fealdsList:J,fealdsList__item:K,fealdHeader:Q,listTags:X,listTags__item:Y,listTags__button:Z,skipButton:ss};function M({tasksArr:i,onResolvedTraining:p}){const[c,_]=e.useState(0),[x,h]=e.useState(0),[L,f]=e.useState(0),[d,T]=e.useState(!1),[a,u]=e.useState(0),[m,k]=e.useState([]),[S,N]=e.useState([]),[B,w]=e.useState([]),[R,v]=e.useState(!1);e.useEffect(()=>{k([...i[a].utrn])},[a,i]),e.useEffect(()=>{N([...[...m].sort(()=>.5-Math.random())])},[m]);const I=t=>{const n=t.currentTarget.getAttribute("value"),j=Number.parseInt(t.currentTarget.getAttribute("data-id"));n===m[c]?H(t.currentTarget,j,n):D(t.currentTarget),f(y=>y+1),c>=m.length-1&&$()},D=t=>{h(n=>n+1),t.classList.remove("btn-primary"),t.classList.add("btn-danger"),setTimeout(()=>{t.classList.remove("btn-danger"),t.classList.add("btn-primary")},300)},H=(t,n,j)=>{t.classList.remove("btn-primary"),t.classList.add("btn-success"),setTimeout(()=>{B.push(j),t.classList.remove("btn-success"),t.classList.add("btn-primary"),t.disabled=!0,t.style.color="transparent",t.style.background="transparent",t.style.borderColor="transparent",_(y=>y+1)},300)},$=()=>{setTimeout(()=>{N([]),T(!0)},300)},C=()=>{a>=i.length-1?v(!0):u(t=>t+1),_(0),h(0),f(0),T(!1),w([])},E=()=>{v(!1),p()};return s.jsxs(s.Fragment,{children:[s.jsx("h3",{children:"English word:"}),!i[a].eng&&s.jsx("h3",{className:r.warning,children:"no available"}),s.jsx("p",{className:r.trainingWord,children:i[a].eng}),s.jsx("h3",{children:"Translation:"}),!i[a].rus&&s.jsx("h3",{className:r.warning,children:"no available"}),s.jsx("p",{className:r.trainslation,children:i[a].rus.split("/")[0]}),s.jsx("h3",{children:"Select U-transcription for the following english word:"}),s.jsxs("ul",{className:r.fealdsList,children:[s.jsxs("li",{className:r.fealdsList__item,children:[s.jsx("h4",{className:r.fealdHeader,children:"Unresolved field"}),!i[a].utrn&&s.jsx("h3",{className:r.warning,children:"no available"}),s.jsx("ul",{className:r.listTags,children:S.map((t,n)=>s.jsx("li",{className:r.listTags__item,children:s.jsx(g,{variant:"primary","data-id":n,onClick:I,value:t,className:r.listTags__button,children:t})},n))}),d&&s.jsx(A,{attempts:L,losts:x,onClickButtonNext:C})]}),s.jsxs("li",{className:r.fealdsList__item,children:[s.jsx("h4",{className:r.fealdHeader,children:"Resolved field"}),s.jsx("ul",{className:r.listTags,children:B.map((t,n)=>s.jsx("li",{className:r.listTags__item,children:s.jsx(g,{variant:"primary",className:r.listTags__button,children:t})},n))})]})]}),s.jsx(g,{variant:"primary",onClick:C,className:r.skipButton,children:"Skip task"}),s.jsx(W,{modalShow:R,onHandleClose:E})]})}M.propTypes={tasksArr:l.arrayOf(l.shape({_id:l.number.isRequired,eng:l.string.isRequired,utrn:l.string.isRequired,rus:l.string.isRequired}))};const ts="_trainingWord_47tox_1",es="_trainslation_47tox_7",is="_transcriptionChekboxBox_47tox_13",ns="_fealdsList_47tox_18",as="_fealdsList__item_47tox_21",rs="_fealdHeader_47tox_30",os="_listTags_47tox_35",ls="_listTags__item_47tox_40",cs="_listTags__button_47tox_45",ds="_skipButton_47tox_50",o={trainingWord:ts,trainslation:es,transcriptionChekboxBox:is,fealdsList:ns,fealdsList__item:as,fealdHeader:rs,listTags:os,listTags__item:ls,listTags__button:cs,skipButton:ds};function q({tasksArr:i,onResolvedTraining:p}){const[c,_]=e.useState(0),[x,h]=e.useState(0),[L,f]=e.useState(0),[d,T]=e.useState(!1),[a,u]=e.useState(0),[m,k]=e.useState([]),[S,N]=e.useState([]),[B,w]=e.useState([]),[R,v]=e.useState(!1);e.useEffect(()=>{k([...i[a].eng])},[a,i]),e.useEffect(()=>{N([...[...m].sort(()=>.5-Math.random())])},[m]);const I=t=>{const n=t.currentTarget.getAttribute("value"),j=Number.parseInt(t.currentTarget.getAttribute("data-id"));n===m[c]?H(t.currentTarget,j,n):D(t.currentTarget),f(y=>y+1),c>=m.length-1&&$()},D=t=>{h(n=>n+1),t.classList.remove("btn-primary"),t.classList.add("btn-danger"),setTimeout(()=>{t.classList.remove("btn-danger"),t.classList.add("btn-primary")},300)},H=(t,n,j)=>{t.classList.remove("btn-primary"),t.classList.add("btn-success"),setTimeout(()=>{B.push(j),t.classList.remove("btn-success"),t.classList.add("btn-primary"),t.disabled=!0,t.style.color="transparent",t.style.background="transparent",t.style.borderColor="transparent",_(y=>y+1)},300)},$=()=>{setTimeout(()=>{N([]),T(!0)},300)},C=()=>{a>=i.length-1?v(!0):u(t=>t+1),_(0),h(0),f(0),T(!1),w([])},E=()=>{v(!1),p()};return s.jsxs(s.Fragment,{children:[s.jsx("h3",{children:"U-transcription:"}),!i[a].utrn&&s.jsx("h3",{className:o.warning,children:"no available"}),s.jsx("p",{className:o.trainingWord,children:i[a].utrn}),s.jsx("h3",{children:"Translation:"}),!i[a].rus&&s.jsx("h3",{className:o.warning,children:"no available"}),s.jsx("p",{className:o.trainslation,children:i[a].rus.split("/")[0]}),s.jsx("h3",{children:"Make a word from the letters according to this U-transcription:"}),s.jsxs("ul",{className:o.fealdsList,children:[s.jsxs("li",{className:o.fealdsList__item,children:[s.jsx("h4",{className:o.fealdHeader,children:"Unresolved field"}),!i[a].eng&&s.jsx("h3",{className:o.warning,children:"no available"}),s.jsx("ul",{className:o.listTags,children:S.map((t,n)=>s.jsx("li",{className:o.listTags__item,children:s.jsx(g,{variant:"primary","data-id":n,onClick:I,value:t,className:o.listTags__button,children:t})},n))}),d&&s.jsx(A,{attempts:L,losts:x,onClickButtonNext:C})]}),s.jsxs("li",{className:o.fealdsList__item,children:[s.jsx("h4",{className:o.fealdHeader,children:"Resolved field"}),s.jsx("ul",{className:o.listTags,children:B.map((t,n)=>s.jsx("li",{className:o.listTags__item,children:s.jsx(g,{variant:"primary",className:o.listTags__button,children:t})},n))})]})]}),s.jsx(g,{variant:"primary",onClick:C,className:o.skipButton,children:"Skip task"}),s.jsx(W,{modalShow:R,onHandleClose:E})]})}q.propTypes={tasksArr:l.arrayOf(l.shape({_id:l.number.isRequired,eng:l.string.isRequired,utrn:l.string.isRequired,rus:l.string.isRequired}))};const us="_optionsButtonsList_19o2c_1",_s="_optionsButtonsList__item_19o2c_6",ms="_trainingButtonsList_19o2c_11",gs="_trainingButtonsList__item_19o2c_17",b={optionsButtonsList:us,optionsButtonsList__item:_s,trainingButtonsList:ms,trainingButtonsList__item:gs},O=["english - u-transcription","u-transcription - english"];function hs(){e.useEffect(()=>{window.scrollBy(0,-1e3)},[]);const[i,p]=e.useState(!0),[c,_]=e.useState(!0),[x,h]=e.useState(""),L=({currentTarget:{value:u}})=>{h(u),_(!1)},f=()=>{_(!0)},d=U(F.getCurrentDictionary);e.useEffect(()=>{d.ownDictionaryName&&p(!1)},[d]);const T=()=>{p(!0)},a=()=>{p(!0),_(!0),h("")};return s.jsxs("div",{children:[s.jsx("h2",{children:"Transcription trainings"}),s.jsxs("ul",{className:b.optionsButtonsList,children:[s.jsx("li",{className:b.optionsButtonsList__item,children:!c&&s.jsx(g,{name:"chooseTraining",onClick:f,variant:"primary",children:"Choose another training"})}),s.jsx("li",{className:b.optionsButtonsList__item,children:!i&&s.jsx(g,{name:"chooseDictionary",onClick:T,variant:"primary",children:"Choose another dictionary"})})]}),c&&s.jsxs(s.Fragment,{children:[s.jsx("h3",{children:"Choose type of training:"}),s.jsx("ul",{className:b.trainingButtonsList,children:O.map(u=>s.jsx("li",{className:b.trainingButtonsList__item,children:s.jsx(g,{onClick:L,value:u,className:u===x?"btn btn-primary btn-lg":"btn btn-secondary",children:u})},u))})]}),i&&s.jsxs(s.Fragment,{children:[s.jsx("h3",{children:"Choose own dictionary for training:"}),s.jsx(P,{})]}),!i&&!c&&d.ownDictionaryName&&x===O[0]&&s.jsx(M,{tasksArr:d.ownDictionaryTasks,onResolvedTraining:a}),!i&&!c&&d.ownDictionaryName&&x===O[1]&&s.jsx(q,{tasksArr:d.ownDictionaryTasks,onResolvedTraining:a})]})}function ks(){return s.jsx(s.Fragment,{children:s.jsx(hs,{})})}export{ks as default};
//# sourceMappingURL=TranscriptionTrainingsView-DP4BUFy6.js.map
