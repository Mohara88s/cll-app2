import{u as S,a as l,r as u,j as e,B as J,S as E,h as F,i as $,k as j,l as B,m as C,n as L,o as N,q as z}from"./index-ezMdIMIh.js";import{j as c,f as v}from"./ChooseLanguages-Dk5AoExg.js";import{F as g,E as I}from"./ErrorMessage-Dp7eYJQA.js";import{T as q}from"./Table-DdcWKeB4.js";const R="_tasksFilter_6zjye_1",w="_table_6zjye_4",D="_table__tbody_6zjye_4",G="_tableTd__english_6zjye_7",H="_tableTd__secondary_6zjye_10",M="_tableTd__button_6zjye_14",i={tasksFilter:R,table:w,table__tbody:D,tableTd__english:G,tableTd__secondary:H,tableTd__button:M};function Q({passUpTask:d}){const n=S(),r=l(c.getOriginalLanguage),a=l(c.getTranslationLanguage),s=l(c.getJokeTasks),t=l(c.getJokeTasksError),m=l(c.getJokeTasksLoading),k=l(c.getJokeTasksFilter),[b,f]=u.useState([]),x=({target:{value:o}})=>{n(F(o))},y=({target:{name:o}})=>{const T=b.find(h=>h._id===o);d(T)};return u.useEffect(()=>{r!==null&&a!==null&&n(v(k,r.language_name,a.language_name))},[n,k,r,a]),u.useEffect(()=>{f(s)},[s]),e.jsxs("div",{className:i.tasksFilter,children:[e.jsx(g,{autoComplete:"off",children:e.jsxs(g.Group,{className:"mb-3",controlId:"filter",children:[e.jsx(g.Label,{children:"Jokes search:"}),e.jsx(g.Control,{type:"text",name:"filter",placeholder:"Enter letters for joke search",value:k,onChange:x})]})}),e.jsxs(q,{striped:!0,bordered:!0,hover:!0,className:i.table,children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("td",{className:i.tableTd__english,children:"Title"}),e.jsx("td",{className:i.tableTd__languages,children:"Translations"}),e.jsx("td",{className:i.tableTd__button})]})}),!m&&e.jsx("tbody",{className:i.table__tbody,children:b.map(({_id:o,task_title:T,languages:h})=>e.jsxs("tr",{children:[e.jsx("td",{children:T}),e.jsx("td",{children:[...h].sort((_,p)=>_.language_name.localeCompare(p.language_name)).map(({language_name:_})=>e.jsxs("span",{children:[_,"/"]},_))}),e.jsx("td",{children:e.jsx(J,{name:o,onClick:y,variant:"primary",children:"Train"})})]},o))})]}),t&&e.jsx(I,{message:t}),m&&e.jsx(E,{animation:"border",variant:"primary"})]})}const U=(d,n,r=20)=>async a=>{a($());try{const{data:s}=await j.get(`/sentences-tasks?limit=${r}&original_language=${d}&translation_language=${n}`);a(B(s.tasks))}catch(s){a(C(s.response?s.response.data.message:s.message))}},V=(d,n,r,a)=>async s=>{s(L());try{const{data:t}=await j.get(`/sentences-tasks/${d}?original_language=${n}&translation_language=${r}${a?`&random=${a}`:""}`);s(N(t.tasks))}catch(t){s(z(t.response?t.response.data.message:t.message))}};export{Q as J,U as a,V as f};
//# sourceMappingURL=sentences-tasks-operations-Bgu1WAq1.js.map
