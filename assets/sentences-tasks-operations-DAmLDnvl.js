import{u as J,a as o,r as m,j as e,B as E,S as F,h as $,i as B,k as j,l as C,m as L,n as N,o as z,q as v}from"./index-lRq4B2S0.js";import{j as l,f as I}from"./ChooseLanguages-C9JCi1RK.js";import{F as g,E as q}from"./ErrorMessage-Bl72mUpP.js";import{T as R}from"./Table-i0ZAr2nr.js";const w="_tasksFilter_6zjye_1",M="_table_6zjye_4",D="_table__tbody_6zjye_4",G="_tableTd__english_6zjye_7",H="_tableTd__secondary_6zjye_10",O="_tableTd__button_6zjye_14",c={tasksFilter:w,table:M,table__tbody:D,tableTd__english:G,tableTd__secondary:H,tableTd__button:O};function U({passUpTask:i,adminMode:d=!1}){const n=J(),a=o(l.getOriginalLanguage),s=o(l.getTranslationLanguage),t=o(l.getJokeTasks),u=o(l.getJokeTasksError),b=o(l.getJokeTasksLoading),k=o(l.getJokeTasksFilter),[f,x]=m.useState([]),y=({target:{value:r}})=>{n($(r))},p=({target:{name:r}})=>{const T=f.find(h=>h._id===r);i(T)};return m.useEffect(()=>{a!==null&&s!==null&&n(I(k,a.language_name,s.language_name))},[n,k,a,s]),m.useEffect(()=>{x(t)},[t]),e.jsxs("div",{className:c.tasksFilter,children:[e.jsx(g,{autoComplete:"off",children:e.jsxs(g.Group,{className:"mb-3",controlId:"filter",children:[e.jsx(g.Label,{children:"Jokes search:"}),e.jsx(g.Control,{type:"text",name:"filter",placeholder:"Enter letters for joke search",value:k,onChange:y})]})}),e.jsxs(R,{striped:!0,bordered:!0,hover:!0,className:c.table,children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("td",{className:c.tableTd__english,children:"Title"}),e.jsx("td",{className:c.tableTd__languages,children:"Translations"}),e.jsx("td",{className:c.tableTd__button})]})}),!b&&e.jsx("tbody",{className:c.table__tbody,children:f.map(({_id:r,task_title:T,languages:h})=>e.jsxs("tr",{children:[e.jsx("td",{children:T}),e.jsx("td",{children:[...h].sort((_,S)=>_.language_name.localeCompare(S.language_name)).map(({language_name:_})=>e.jsxs("span",{children:[_,"/"]},_))}),e.jsx("td",{children:e.jsx(E,{name:r,onClick:p,variant:"primary",children:"Train"})})]},r))})]}),u&&e.jsx(q,{message:u}),b&&e.jsx(F,{animation:"border",variant:"primary"})]})}const V=(i,d,n=20)=>async a=>{a(B());try{const{data:s}=await j.get(`/sentences-tasks?limit=${n}&original_language=${i}&translation_language=${d}`);a(C(s.tasks))}catch(s){a(L(s.response?s.response.data.message:s.message))}},W=(i,d,n,a)=>async s=>{s(N());try{const{data:t}=await j.get(`/sentences-tasks/${i}?original_language=${d}&translation_language=${n}${a?`&random=${a}`:""}`);s(z(t.tasks))}catch(t){s(v(t.response?t.response.data.message:t.message))}};export{U as J,V as a,W as f};
//# sourceMappingURL=sentences-tasks-operations-DAmLDnvl.js.map
